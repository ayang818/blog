---
title: 设计模式(1)
date: 2019-09-11 18:09:35
tags: [Java,设计模式]
---

## 什么是设计模式
在软件工程中，设计模式是对软件设计中普遍存在的问题，所提出的解决方案。使用设计模式是为了可重用代码，让代码更有可读性，同时具有更好的可靠性。

## 设计模式原则
1. 开闭原则
开闭原则的意思是：<strong>对拓展开放，对修改封闭</strong>。在程序需要拓展时，不能去修改或影响已有的代码，实现一个热插拔的效果，达到了增强程序的拓展性的效果。想要达到这种效果，我们需要使用接口和抽象类。

<!-- more -->
2. 里氏代换原则
里氏代换原则是面向对象设计的基本原则之一。 里氏代换原则中说，<strong>任何基类可以出现的地方，子类一定可以出现</strong>。里氏代换原则是继承复用的基石，只有当子类可以替换掉基类，且软件单位的功能不受到影响时，基类才能真正被复用，而且子类也能够在基类的基础上增加新的行为。里氏代换原则是对开闭原则的补充。实现开闭原则的关键步骤就是抽象化，而基类与子类的继承关系就是抽象化的具体实现，所以里氏代换原则是对实现抽象化的具体步骤的规范。我个人理解多态事实上就体现了里氏代换原则，因为实现多态需要实现以下三点
- 存在继承关系
- 子类方法重写基类方法
- 基类的数据类型指向子类引用
而这个也是里氏代换原则的体现

3. 依赖倒转原则
这个原则是开闭原则的基础，核心内容：针对接口编程，高层模块不应该依赖底层模块，二者都应该依赖抽象而不依赖于具体。

4. 接口隔离原则
这个原则的意思是：使用多个隔离的接口，比使用单个庞大的接口要好。其目的在于降低耦合度。由此可见，其实设计模式就是从大型软件架构出发，便于升级和维护软件的设计思想。它强调低依赖、低耦合。这个可以理解，就是使用多个简单的接口优于一个实现复杂的接口。接口隔离原则注重的是对接口依赖之间的隔离，主要针对抽象。

5. 单一职责原则
类的职责不能太多，要单一，个人认为他和接口隔离原则的区别在于单一职责原则注重的是程序具体上的实现，是职责，是类。而接口隔离原则注重的是接口，是抽象。

6. 最少知道原则
最少知道原则也叫迪米特法则，就是说：<strong>一个实体应当尽量少的与其他实体之间发生相互作用，使得系统功能模块相对独立</strong>。

一个对象应该对其他对象保持最少的了解。类与类之间的关系越密切，耦合度越大，当一个类发生改变时，对另一个类的影响也越大。如果两个类不必彼此直接通信，那么这两个类就不应当发生直接的相互作用。如果其中一个类需要调用另一个类的某一个方法的话，可以通过第三者转发这个调用。所以在类的设计上，每一个类都应当尽量降低成员的访问权限。这个现在我还是没有特别理解，我可以想到一个类似的场景来勉强类比，比如说我想使用一个Util类中的方法功能，但是我并不想和Util这个类产生直接联系，于是我把Util类中的这个方法的Modifier写成static。

7. 合成复用原则(组合优于继承)
合成复用原则就是在一个新的对象里通过关联关系（组合关系、聚合关系）来使用一些已有的对象，使之成为新对象的一部分；新对象通过委派调用已有对象的方法达到复用功能的目的。简而言之，尽量多使用 组合/聚合 的方式，尽量少使用甚至不使用继承关系。

## 设计模式分类
设计模式大致可以分为三类
- 创建型模式
    1. 工厂模式
    2. 抽象工厂模式
    3. 单例模式
    4. 建造者模式
    5. 原型模式
- 结构型模式
    1. 适配器模式
    2. 装饰器模式
    3. 代理模式
    4. 外观模式
    5. 桥接模式
    6. 组合模式
    7. 享元模式
- 行为型模式
    1. 策略模式
    2. 模板方法模式
    3. 观察者模式
    4. 迭代子模式
    5. 责任链模式
    6. 命令模式
    7. 备忘录模式
    8. 状态模式
    9. 访问者模式
    10. 中介者模式
    11. 解释器模式
<img src="https://upload-serve.oss-cn-beijing.aliyuncs.com/image/designpattern.jpg" style="margin: 10px auto;"></img>

## 小结
由于我也是初学设计模式，有些设计模式我也一直在用，比如说单例模式，建造者模式，工厂模式等。但是写的东西确实也是结合书籍和我个人的理解，若有错误，也欢迎指正交流，个人邮箱yfc1004210191@gmail.com。